(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{165:function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),i=a(26),r=a.n(i),s=(a(72),a(66)),c=a(61),l=a(16),u=a(17),h=a(19),d=a(18),p=a(20),f=a(5),b=(a(73),a(74),{black:"#212121",red:"#F70F0F",yellow:"#FCD318",blue:"#344D90",grey:"#A3A3A3",white:"#FFFFFF"}),v=function(t){function e(){return Object(l.a)(this,e),Object(h.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{className:this.props.playing?"Tile playing":"Tile",style:{width:this.props.width}},o.a.createElement("div",{className:"TileInner",onClick:this.props.functions.change,"data-row":this.props.row,"data-col":this.props.col,style:{background:(t=this.props.value,b[Object.keys(b)[t]])}}));var t}}]),e}(n.Component),m=(a(75),function(t){function e(){return Object(l.a)(this,e),Object(h.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(u.a)(e,[{key:"tileIsPlaying",value:function(t,e){var a=this.props.position,n=a/100;return 0!==a&&(n>=t/e&&n<=(t+1)/e)}},{key:"render",value:function(){var t=this,e=this.props,a=e.data,n=e.row,i=e.functions;return o.a.createElement("div",{className:"RowOuter","data-row":n},o.a.createElement("div",{className:"rowButton subtract",onClick:i.subtract,style:{lineHeight:this.props.height}},"\u2013"),o.a.createElement("div",{className:"Row",style:{height:this.props.height}},a.map(function(e,r){return o.a.createElement(v,{value:e,key:r,row:n,col:r,functions:i,width:(100/a.length).toString()+"%",playing:t.tileIsPlaying(r,a.length)})})),o.a.createElement("div",{className:"rowButton add",onClick:i.add,style:{lineHeight:this.props.height}},"+"))}}]),e}(n.Component)),y=(a(76),function(t){function e(){return Object(l.a)(this,e),Object(h.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this.props,e=t.data,a=t.functions,n=t.position;return o.a.createElement("div",{className:"Board"},o.a.createElement("div",{className:"rowButton long subtract",onClick:a.subtractRow},"\u2013"),e.map(function(t,i){return o.a.createElement(m,{data:t,key:i,row:i,functions:a,position:n,height:(800/e.length).toString()+"px"})}),o.a.createElement("div",{className:"rowButton long add",onClick:a.addRow},"+"))}}]),e}(n.Component)),g=a(23),w=a.n(g),O=a(63),j=a.n(O),k=a(41),E=a(65),C=a.n(E),S=a(64),N=a.n(S);function A(){for(var t=[],e=Math.ceil(6*Math.random()),a=0;a<e;a++){for(var n=[],o=Math.ceil(8*Math.random()),i=0;i<o;i++)n.push(Math.floor(6*Math.random()));t.push(n)}return t}var R=Object(k.createMuiTheme)({palette:{type:"dark"}}),T=function(t){function e(t){var a;Object(l.a)(this,e),(a=Object(h.a)(this,Object(d.a)(e).call(this,t))).handleChange=function(t){return function(e){a.setState(Object(c.a)({},t,e.target.checked))}};for(var n=[],o=0;o<6;o++)n.push(new w.a.Synth({oscillator:{type:"sine"}}).toMaster());return a.start=a.start.bind(Object(f.a)(Object(f.a)(a))),a.state={data:A(),position:0,synths:n,fullAuto:!1,functions:{change:a.change.bind(Object(f.a)(Object(f.a)(a))),add:a.addTile.bind(Object(f.a)(Object(f.a)(a))),subtract:a.subtractTile.bind(Object(f.a)(Object(f.a)(a))),addRow:a.addRow.bind(Object(f.a)(Object(f.a)(a))),subtractRow:a.subtractRow.bind(Object(f.a)(Object(f.a)(a)))}},a}return Object(p.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this;w.a.Transport.PPQ=24,w.a.Transport.scheduleRepeat(function(e){var a=t.state,n=a.position,o=a.data,i=a.playPosition,r=a.synths,c=!0,l=!1,u=void 0;try{for(var h,d=o.entries()[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var p=h.value,f=Object(s.a)(p,2),b=f[0],v=f[1],m=Math.floor(n/100*v.length);if(i[b]!==m){i[b]=m,i[b]===v.length&&(i[b]=0);var y=[0,"C","D","E","G","A"][v[i[b]]];console.log(y,v,i,b),0!==y&&r[b].triggerAttackRelease(y+(b+2).toString(),"16n",e)}}}catch(w){l=!0,u=w}finally{try{c||null==d.return||d.return()}finally{if(l)throw u}}if(n>=100){if(n=1,t.state.fullAuto){var g=A();t.setState({data:g})}}else n+=100/96;t.setState({position:n,playPosition:i})},"1i")}},{key:"change",value:function(t){var e=t.target.dataset,a=e.row,n=e.col,o=this.state.data,i=o[a][n];o[a][n]=(i+1)%6,this.setState({data:o})}},{key:"addTile",value:function(t){var e=this.state.data,a=t.target.parentNode.dataset.row;e[a].length<9&&(e[a].push(0),this.setState({data:e}))}},{key:"subtractTile",value:function(t){var e=this.state.data,a=t.target.parentNode.dataset.row;e[a].length>1&&(e[a].pop(),this.setState({data:e}))}},{key:"addRow",value:function(){var t=this.state.data;t.length<6&&(t.push([0,0,0,0]),this.setState({data:t}))}},{key:"subtractRow",value:function(){var t=this.state.data;t.length>1&&(t.pop(),this.setState({data:t}))}},{key:"start",value:function(){w.a.Transport.start(),w.a.start();for(var t=[],e=0;e<6;e++)t[e]=-1;this.setState({position:1,playPosition:t})}},{key:"render",value:function(){var t=this.state.data;return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"controls"},o.a.createElement(k.MuiThemeProvider,{theme:R},o.a.createElement(j.a,{variant:"contained",color:"primary",onClick:this.start},"Start"),o.a.createElement(N.a,{style:{paddingLeft:"20px"},control:o.a.createElement(C.a,{color:"primary",checked:this.state.fullAuto,onChange:this.handleChange("fullAuto"),value:"fullAuto"}),label:"Full Auto"}))),o.a.createElement(y,{data:t,position:this.state.position,functions:this.state.functions}))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},67:function(t,e,a){t.exports=a(165)},72:function(t,e,a){},73:function(t,e,a){},74:function(t,e,a){},75:function(t,e,a){},76:function(t,e,a){}},[[67,1,2]]]);
//# sourceMappingURL=main.248c3ada.chunk.js.map